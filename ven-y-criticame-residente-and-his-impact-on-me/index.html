<!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Ven Y Criticame: Residente and His Impact On Me — Camila Tiburcio Rubio</title>
      <link rel="canonical" href="https://lotk8.com/ven-y-criticame-residente-and-his-impact-on-me/" />
      <meta name="description" content="In this memoirs by Camila Tiburcio Rubio, “Ven Y Criticame: Residente and His Impact On Me,” A look into one of Camila&#39;s first experiences with the genre…" />

      <!-- OpenGraph for iMessage / FB / etc -->
      <meta property="og:type" content="article" />
      <meta property="og:title" content="Ven Y Criticame: Residente and His Impact On Me — Camila Tiburcio Rubio" />
      <meta property="og:description" content="In this memoirs by Camila Tiburcio Rubio, “Ven Y Criticame: Residente and His Impact On Me,” A look into one of Camila&#39;s first experiences with the genre…" />
      <meta property="og:url" content="https://lotk8.com/ven-y-criticame-residente-and-his-impact-on-me/" />
      <meta property="og:image" content="https://lotk8.com/images/2025/11/ven-y-criticame-residente-and-his-impact-on-me/cover.jpg" />


      <!-- Twitter card (also used by some preview engines) -->
      <meta name="twitter:card" content="summary_large_image" />
      <meta name="twitter:title" content="Ven Y Criticame: Residente and His Impact On Me — Camila Tiburcio Rubio" />
      <meta name="twitter:description" content="In this memoirs by Camila Tiburcio Rubio, “Ven Y Criticame: Residente and His Impact On Me,” A look into one of Camila&#39;s first experiences with the genre…" />
      <meta name="twitter:image" content="https://lotk8.com/images/2025/11/ven-y-criticame-residente-and-his-impact-on-me/cover.jpg" />

      <script type="application/ld+json">
        {"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://lotk8.com/ven-y-criticame-residente-and-his-impact-on-me/"},"headline":"Ven Y Criticame: Residente and His Impact On Me — Camila Tiburcio Rubio","description":"In this memoirs by Camila Tiburcio Rubio, “Ven Y Criticame: Residente and His Impact On Me,” A look into one of Camila&#39;s first experiences with the genre…","image":"https://lotk8.com/images/2025/11/ven-y-criticame-residente-and-his-impact-on-me/cover.jpg","author":{"@type":"Person","name":"Camila Tiburcio Rubio"},"publisher":{"@type":"Organization","name":"Lot K8","logo":{"@type":"ImageObject","url":"https://lotk8.com/assets/logo.png"}},"datePublished":"2025-11-29T06:12","dateModified":"2025-11-29T06:12","articleSection":"Memoirs","keywords":"Music, Reparto","inLanguage":"en"}
      </script>

      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Source+Serif+4:opsz,wght@8..60,400..800&display=swap" rel="stylesheet">
      <script src="https://cdn.tailwindcss.com"></script>
      <script>
        tailwind.config = {
          theme: {
            extend: {
              fontFamily: {
                sans: ['Inter','system-ui','sans-serif'],
                serif: ['Source Serif 4','Georgia','serif']
              },
              colors: {
                ink: { 900:'#0E0E0E',700:'#1F1F1F',500:'#3A3A3A',300:'#9CA3AF' },
                cream: '#FAF7F2',
                accent: { DEFAULT:'#C53D2F', dark:'#9E2F24', light:'#E95A49' }
              },
              boxShadow: { soft:'0 10px 30px rgba(0,0,0,0.06)' }
            }
          }
        }
      </script>
      <style>
        .u-underline{
          position:relative;
        }
        .u-underline::after{
          content:'';
          position:absolute;
          left:0;
          bottom:-2px;
          height:2px;
          width:100%;
          background:currentColor;
          transform:scaleX(0);
          transform-origin:left;
          transition:transform .25s;
        }
        .u-underline:hover::after{
          transform:scaleX(1);
        }

        /* Keep underline when hovering the whole author link */
        .author-link:hover .u-underline::after {
          transform: scaleX(1);
        }

        .prose h1,.prose h2,.prose h3,.prose h4{font-family:'Source Serif 4',Georgia,serif}
        .prose img{ width:100%; height:480px; object-fit:cover; object-position:center; display:block; border-radius:0.75rem; box-shadow:0 10px 30px rgba(0,0,0,0.06); margin:1.25rem 0; }
        .prose p{margin:1.05em 0;line-height:1.8}
        .tag{display:inline-block;padding:.35rem .65rem;border-radius:9999px;background:rgba(197,61,47,.08);color:#C53D2F;font-weight:600;font-size:.8rem;border:1px solid rgba(0,0,0,.06)}
        .hero-img{width:100%;height:480px;object-fit:cover;object-position:center;border-radius:1rem;box-shadow:0 10px 30px rgba(0,0,0,.06)}

        /* Blockquotes: main quote left, attribution bottom-right */
        blockquote{
          border-left:4px solid #C53D2F;
          background:rgba(197,61,47,.08);
          padding:1rem 1.25rem;
          border-radius:.5rem;
          font-style:italic;
        }

        /* Normal spacing for lines inside blockquote */
        article.prose blockquote p {
          margin:0.35rem 0;
        }
        article.prose blockquote p:first-of-type {
          margin-top:0;
        }
        /* Attribution line inside blockquotes */
        article.prose blockquote p:last-of-type {
          margin-top: 0.4rem;
          margin-bottom: 0;
          font-size: 0.85rem;
          color: #9CA3AF;      /* grey */
          font-style: normal;  /* no italics */
          text-align: right;      /* RIGHT side */
          align-self: flex-end;   /* physically place it on the right inside flex */
        }

        #progress-bar{position:fixed;top:0;left:0;height:3px;background:#C53D2F;width:0;z-index:60}
        #progress-label{
          position:fixed;
          top:6px;
          right:16px;
          padding:2px 9px;
          border-radius:9999px;
          background:rgba(14,14,14,0.78);
          color:#F9FAFB;
          font-size:10px;
          letter-spacing:.16em;
          text-transform:uppercase;
          z-index:70;
          display:none;
          pointer-events:none;
        }
        #progress-label span{
          font-variant-numeric:tabular-nums;
          white-space:nowrap;
        }

        /* On small screens, move % READ down near the bottom-right */
        @media (max-width: 640px) {
          #progress-label {
            top: auto;
            bottom: 72px;         /* sits above your bottom-right "↑ Top" button */
            right: 16px;
          }
        }

        @media (max-width: 640px) {
          #progress-label {
            font-size: 9px;
            padding: 2px 7px;
          }
        }

        @media (max-width: 640px) {
          #progress-label {
            bottom: 62px;
          }
        }

        blockquote::before { content: "“"; font-size: 3rem; line-height: 0; vertical-align: -0.4rem; color: #C53D2F; margin-right: 0.25rem; }
        .prose .dropcap::first-letter { font-family: 'Source Serif 4', Georgia, serif; float: left; font-size: 5.5rem; line-height: 0.9; margin-right: 0.1rem; font-weight: 500; margin-top: -0.2rem; color: #C53D2F; }
        .prose p.dropcap { text-indent: 0; margin-top: 0.4em; }
        article.prose { animation: fadeIn 0.35s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
        ::selection { background: rgba(197,61,47,0.15); }
        /* Keep share bar horizontal on standalone page too */
        .shareCard{ display:inline-flex; flex-direction:row; }
        /* Share bar styles */
        .shareCard{
          display:inline-flex; flex-direction:row; align-items:center; gap:14px;
          width:fit-content; padding:16px 18px; border-radius:9999px; background:#fff;
          border:1px solid rgba(0,0,0,.10); box-shadow:0 10px 30px rgba(0,0,0,.04); margin:0 auto;
        }

        .shareLabel{ font-weight:700; font-size:.75rem; letter-spacing:.04em; text-transform:uppercase; color:#111; user-select:none; margin-right:2px; }
        .socialContainer{
          width:40px; height:40px; border-radius:12px; background:transparent;
          border:1px solid rgba(0,0,0,.10); color:#3A3A3A; display:flex; align-items:center; justify-content:center;
          transition:transform .18s ease, background-color .18s ease, border-color .18s ease, color .18s ease;
          text-decoration:none; cursor:pointer;
        }
        .socialContainer:hover{ background:rgba(197,61,47,.08); border-color:rgba(197,61,47,.35); color:#C53D2F; transform:translateY(-1px); }
        .socialContainer:active{ transform:scale(.97); }
        .xSvg{ width:16px; height:16px; color:inherit; }
        .socialSvg{ width:18px; height:18px; color:inherit; }
        .fill-icon path{ fill: currentColor; }
        .clipboard-svg{ width:18px; height:18px; stroke: currentColor; fill:none; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; }

        /* Stronger section headers inside article */
        article.prose h2 {
          font-family: 'Source Serif 4', Georgia, serif;
          font-size: 1.9rem;              /* bigger — feels like a true section */
          line-height: 1.25;
          color: #0E0E0E;                 /* darker than body text */
          font-weight: 600;
          margin-top: 3.5rem;             /* big spacing above */
          margin-bottom: 1.5rem;          /* spacing below */
          scroll-margin-top: 110px;       /* fixes jump-to offset nicely */
          border-left: 4px solid #C53D2F; /* subtle accent mark */
          padding-left: 0.85rem;
        }

        /* Subheaders inside article */
        article.prose h3 {
          font-family: 'Source Serif 4', Georgia, serif;
          font-size: 1.45rem;
          line-height: 1.3;
          color: #3A3A3A;
          font-weight: 600;

          margin-top: 2.2rem;
          margin-bottom: 1rem;

          scroll-margin-top: 110px;

          /* soft accent guide bar */
          border-left: 3px solid rgba(197, 61, 47, 0.35);
          padding-left: 0.6rem;
        }

        #ttsToggle[data-state="playing"] {
          background: rgba(197, 61, 47, 0.09);
          color: #C53D2F;
          border-color: rgba(197, 61, 47, 0.35);
        }

        #ttsToggle[data-state="playing"] {
          background: rgba(197,61,47,0.09);
          color: #C53D2F;
          border-color: rgba(197,61,47,0.35);
        }

        /* Play/pause button states */
        #ttsPlayPause[data-state="playing"] {
          background: rgba(197,61,47,0.09);
          color: #C53D2F;
          border-color: rgba(197,61,47,0.35);
        }

        #ttsPlayPause[data-state="paused"] {
          background: #ffffff;
        }

        /* Show correct icon for state */
        #ttsPlayPause [data-icon="play"],
        #ttsPlayPause [data-icon="pause"] {
          display: none;
        }

        #ttsPlayPause[data-state="paused"] [data-icon="play"] {
          display: block;
        }

        #ttsPlayPause[data-state="playing"] [data-icon="pause"] {
          display: block;
        }

        /* TTS progress bar styling */
        #ttsProgressRange {
          -webkit-appearance: none;
          appearance: none;
          height: 4px;
          border-radius: 9999px;
          background: transparent; /* we'll draw the track via JS gradient */
          outline: none;
          cursor: pointer;
        }

        /* WebKit thumb */
        #ttsProgressRange::-webkit-slider-thumb {
          -webkit-appearance: none;
          appearance: none;
          width: 14px;
          height: 14px;
          border-radius: 9999px;
          background: #C53D2F;
          border: 2px solid #F9FAFB;
          box-shadow: 0 0 0 1px rgba(0,0,0,0.10);
          margin-top: -5px; /* centers thumb on 4px track */
        }

        /* Firefox thumb */
        #ttsProgressRange::-moz-range-thumb {
          width: 14px;
          height: 14px;
          border-radius: 9999px;
          background: #C53D2F;
          border: 2px solid #F9FAFB;
          box-shadow: 0 0 0 1px rgba(0,0,0,0.10);
        }

        /* Firefox track */
        #ttsProgressRange::-moz-range-track {
          height: 4px;
          border-radius: 9999px;
          background: transparent;
        }

        /* Play/pause button states */
        #ttsPlayPause[data-state="playing"] {
          background: rgba(197,61,47,0.09);
          color: #C53D2F;
          border-color: rgba(197,61,47,0.35);
        }

        #ttsPlayPause[data-state="paused"] {
          background: #ffffff;
        }

        /* TTS progress bar styling */
        #ttsProgressRange {
          -webkit-appearance: none;
          appearance: none;
          height: 4px;
          border-radius: 9999px;
          background: rgba(15,23,42,0.08);
          outline: none;
          cursor: pointer;
        }

        #ttsProgressRange::-webkit-slider-thumb {
          -webkit-appearance: none;
          appearance: none;
          width: 12px;
          height: 12px;
          border-radius: 9999px;
          background: #C53D2F;
          border: 2px solid #F9FAFB;
          box-shadow: 0 0 0 1px rgba(0,0,0,0.10);
          margin-top: -4px;
        }

        #ttsProgressRange::-moz-range-thumb {
          width: 12px;
          height: 12px;
          border-radius: 9999px;
          background: #C53D2F;
          border: 2px solid #F9FAFB;
          box-shadow: 0 0 0 1px rgba(0,0,0,0.10);
        }

        #ttsProgressRange::-moz-range-track {
          height: 4px;
          border-radius: 9999px;
          background: rgba(15,23,42,0.08);
        }

        /* Base track */
        #ttsProgressRange {
          -webkit-appearance: none;
          appearance: none;
          height: 4px;
          background: rgba(0,0,0,0.1);
          border-radius: 999px;
          outline: none;
        }

        /* WebKit thumb (Safari + Chrome) */
        #ttsProgressRange::-webkit-slider-thumb {
          -webkit-appearance: none;
          appearance: none;
          width: 14px;
          height: 14px;
          background: #C53D2F;
          border-radius: 50%;
          cursor: pointer;

          /* THIS controls vertical alignment */
          margin-top: 0px; /* Adjust between -4 and -8 until perfect */
        }

        /* Firefox thumb */
        #ttsProgressRange::-moz-range-thumb {
          width: 14px;
          height: 14px;
          background: #C53D2F;
          border-radius: 50%;
          cursor: pointer;

          margin-top: 0; /* Firefox centers by default */
        }

        #ttsProgressRange::-webkit-slider-thumb {
          margin-top: 0px !important;
        }
        #ttsProgressRange::-moz-range-thumb {
          margin-top: -3px !important;
        }

        /* Sticky TTS mini-player container */
        #ttsStickyBar {
          position: fixed;
          left: 0;
          right: 0;
          bottom: 1rem;
          z-index: 60;
          display: none;       /* shown when listening starts */
          pointer-events: none; /* inner card handles clicks */
        }

        /* Inner card gets actual pointer events */
        #ttsStickyInner {
          pointer-events: auto;
        }

        /* Highlight for the sentence currently being read */
        .tts-sentence--active {
          background: rgba(197, 61, 47, 0.14);
          border-radius: 4px;
          padding: 0 1px;
          transition: background 0.08s ease-out;
        }

        /* Bibliography / citations block on article page */
        .bibliography-section {
          margin-top: 2.5rem;
          padding-top: 1.25rem;
          border-top: 1px solid rgba(0,0,0,0.08);
          font-size: 0.95rem;
        }

        .bibliography-section h2 {
          font-size: 1.1rem;
          letter-spacing: 0.16em;
          text-transform: uppercase;
          font-weight: 600;
          color: #374151;
          margin-bottom: 0.75rem;
        }

        /* Remove default bullets / numbers – we'll draw our own */
        .bibliography-section ol,
        .bibliography-section ul {
          list-style: none;
          padding-left: 0;
          margin: 0;
        }

        /* One “item” per reference (works for <li> or <p>) */
        .bibliography-item {
          position: relative;
          margin-bottom: 0.75rem;
          line-height: 1.7;
          padding-left: 2.25rem;   /* where the text block starts */
        }

        /* Number column */
        .bibliography-item::before {
          content: attr(data-bib-index) ".";
          position: absolute;
          left: 0;
          top: 0;
          width: 1.75rem;
          text-align: right;
          font-variant-numeric: tabular-nums;
          color: #6B7280;
        }

        /* --- Jump-to-section: desktop floating card (softer) --- */
        #jumpFloatingDesktop {
          position: fixed;
          top: 190px; /* a bit lower so it's aligned with content */
          right: max(1.25rem, (100vw - 1120px) / 2 - 80px);
          width: 200px;
          z-index: 30;

          /* fade-in behavior */
          opacity: 0;
          pointer-events: none;
          transform: translateY(4px);
          transition: opacity 0.22s ease-out, transform 0.22s ease-out;
        }

        #jumpFloatingDesktop.jump-visible {
          opacity: 1;
          pointer-events: auto;
          transform: translateY(0);
        }

        /* Card container */
        #jumpFloatingDesktop .jump-card-inner {
          background: rgba(250, 247, 242, 0.78); /* soft, slightly translucent cream */
          border-radius: 16px;
          border: 1px solid rgba(0, 0, 0, 0.03);
          box-shadow: 0 8px 20px rgba(15, 23, 42, 0.06);
          padding: 10px 12px 8px;
          font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        /* "JUMP TO" label as a real header */
        #jumpFloatingDesktop .jump-label {
          font-size: 10px;
          letter-spacing: 0.16em;
          text-transform: uppercase;
          color: #374151;              /* darker than section items */
          font-weight: 700;
          margin-bottom: 6px;
          border-bottom: 1px solid rgba(0,0,0,0.10);
          padding-bottom: 3px;
        }

        /* Indented H3 in Jump-To menu */
        #jumpFloatingDesktop .jump-list button[data-level="3"] {
          padding-left: 18px !important;
          font-size: 11px;
          color: #6B7280;
        }

        #jumpFloatingDesktop .jump-list button[data-level="3"][data-active="true"] {
          background: rgba(197, 61, 47, 0.12);
          color: #C53D2F;
          font-weight: 500;
        }

        /* List container */
        #jumpFloatingDesktop .jump-list {
          list-style: none;
          margin: 0;
          padding: 0;
        }

        /* Each button */
        #jumpFloatingDesktop .jump-list button {
          width: 100%;
          border-radius: 9999px;
          border: none;
          padding: 4px 8px;
          margin-top: 3px;
          font-size: 12px;
          text-align: left;
          background: transparent;
          color: #6B7280; /* muted gray */
          cursor: pointer;
          transition:
            background-color 0.16s ease,
            color 0.16s ease,
            transform 0.10s ease;
        }

        #jumpFloatingDesktop .jump-list button:hover {
          background: rgba(15, 23, 42, 0.03);
          color: #111827;
          transform: translateX(0.5px);
        }

        /* Active = soft accent pill */
        #jumpFloatingDesktop .jump-list button[data-active="true"] {
          background: rgba(197, 61, 47, 0.12); /* soft accent */
          color: #C53D2F;
          font-weight: 500;
        }

        /* Hide desktop jump card on smaller screens */
        @media (max-width: 1023px) {
          #jumpFloatingDesktop {
            display: none;
          }
        }
      </style>

    </head>

    <body class="bg-cream text-ink-900 antialiased">
      <div id="progress-bar"></div>
      <div id="progress-label" aria-hidden="true">
        <span data-progress-text>0% read</span>
      </div>

      <header class="sticky top-0 z-40 backdrop-blur supports-[backdrop-filter]:bg-cream/80 bg-cream/95 border-b border-black/5">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
          
          <div class="flex items-center gap-3">
            <!-- Lot K8 Brand -->
            <a href="../" class="flex items-center gap-3 group" aria-label="Home">
              <img
                src="../assets/logo.png"
                alt="Lot K8 logo"
                class="h-12 w-12 object-contain transition group-hover:opacity-90"
              />
              <div class="flex flex-col leading-tight">
                <span class="font-serif text-2xl tracking-[0.015em]">Lot K8</span>
                <span class="text-xs text-ink-300 tracking-wide -mt-0.5">
                  Essays, interviews & visual culture
                </span>
              </div>
            </a>
          </div>

          <a id="backBtn" class="u-underline text-sm" href="../" title="Go back">← Go back</a>

        </div>
      </header>

      <section class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 pt-10 text-center">
        <div class="text-[10px] sm:text-xs tracking-[0.14em] font-semibold text-accent uppercase">
          Memoirs
        </div>

        <h1 class="font-serif text-4xl sm:text-5xl mt-3 leading-tight">
          Ven Y Criticame: Residente and His Impact On Me
        </h1>

        <p class="text-ink-500 mt-3 max-w-2xl mx-auto">A look into one of Camila&#39;s first experiences with the genre of Reparto and its lasting impact on her.</p>


        <div class="mt-4 flex items-center justify-center gap-3 text-sm">
          <a
            href="../about/"
            class="author-link flex items-center gap-3 group"
            aria-label="About Camila Tiburcio Rubio"
          >
            <div
              class="w-9 h-9 rounded-full bg-ink-300 group-hover:ring-2 group-hover:ring-accent group-hover:ring-offset-2 group-hover:ring-offset-cream"
            >
              <img
                     src="../assets/camila.jpg"
                     alt="Camila Tiburcio Rubio"
                     class="w-full h-full rounded-full object-cover"
                   />
            </div>
            <div class="text-left">
              <div class="font-medium">
                By <span class="u-underline">Camila Tiburcio Rubio</span>
              </div>
              <div class="text-ink-300">
                November 29, 2025
                • 15 min read
              </div>
            </div>
          </a>
        </div>


        
          <div class="mt-3 flex justify-center flex-wrap gap-2">
            
                <a class="tag" href="../search?q=Music">
                  Music
                </a>
              
                <a class="tag" href="../search?q=Reparto">
                  Reparto
                </a>
              
          </div>

        <div class="mt-3 flex justify-center">
          <button
            id="ttsToggle"
            type="button"
            class="inline-flex items-center gap-2 rounded-full border border-black/10 bg-white/80 px-3 py-1.5 text-xs text-ink-500 shadow-soft hover:border-black/20 hover:text-ink-900 transition"
          >
            <span>Listen to article</span>
          </button>
        </div>

        <!-- TTS controls: play/pause + progress (hidden until listening starts) -->
        <div
          id="ttsControls"
          class="mt-2 flex items-center justify-center gap-3 text-[10px] text-ink-300"
          style="display:none;"
        >
          <!-- Slider & Time -->
          <div class="flex items-center gap-2">
            <input
              id="ttsProgressRangeInLine"
              type="range"
              min="0"
              max="100"
              step="1"
              value="0"
              style="width:260px;max-width:100%;"
            />
            <div
              id="ttsProgressLabelInLine"
              class="text-[11px] text-ink-400 font-medium tabular-nums"
            >
              00:00
            </div>
          </div>

          <!-- Play / Pause button (now aligned vertically) -->
          <button
            id="ttsPlayPauseInLine"
            type="button"
            data-state="paused"
            class="inline-flex items-center justify-center rounded-full border border-black/10 bg-white/90 w-8 h-8 text-ink-500 shadow-soft hover:border-black/20 hover:text-ink-900 transition"
            aria-label="Play or pause article audio"
          >
            <!-- Play icon -->
            <svg data-icon="play" viewBox="0 0 24 24" class="h-3.5 w-3.5" aria-hidden="true" fill="currentColor">
              <polygon points="8,5 19,12 8,19" />
            </svg>

            <!-- Pause icon -->
            <svg data-icon="pause" viewBox="0 0 24 24" class="h-3.5 w-3.5" aria-hidden="true" fill="currentColor">
              <rect x="7" y="5" width="3.2" height="14" rx="1" />
              <rect x="13.8" y="5" width="3.2" height="14" rx="1" />
            </svg>
          </button>
        </div>

      </section>

      
      <figure class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 mt-8">
        <img
          class="hero-img"
          src="/images/2025/11/ven-y-criticame-residente-and-his-impact-on-me/cover.jpg"
          alt="Ven Y Criticame: Residente and His Impact On Me"
        />
        
      </figure>

      <main class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
        <!-- Jump to section menu -->
        <div id="jumpMenu" class="not-prose mb-6 mt-2 lg:mb-4">
          <!-- Mobile: collapsible -->
          <div class="lg:hidden">
            <button
              id="jumpToggleBtn"
              type="button"
              class="w-full flex items-center justify-between rounded-full border border-black/10 bg-white/80 px-3 py-2 text-xs text-ink-500 shadow-soft"
            >
              <span class="tracking-[0.18em] uppercase text-[10px] text-ink-300 font-semibold">
                Jump to
              </span>
              <span class="flex items-center gap-1">
                <span class="text-[11px] text-ink-500" data-jump-current>Sections</span>
                <span class="text-xs text-ink-300">▾</span>
              </span>
            </button>

            <div
              id="jumpMobileList"
              class="mt-2 hidden rounded-2xl border border-black/10 bg-white px-3 py-2 text-sm space-y-1"
            ></div>
          </div>
        </div>

        <div class="relative">
          <div class="fade-top"></div>
          <div class="fade-bottom"></div>
          <article class="prose prose-neutral max-w-none">
            <p>The smoldering Caribbean sun was shining down on my head as I dug in the sand attempting to collect enough to form a small sandcastle. The beaches of Varadero, Cuba were filling up with tourists who sought to escape their nine-to-five in a Caribbean paradise and a couple of Cubans who never grew tired of standing in the same waters they knew since birth. My cousin Daniel was a teen who was emerging into himself during a time in which a new musical genre was also establishing itself among the people of the Caribbean and soon all of Latin America. As I played near the water while my mom read a book, he walked over to the drink shop and asked the bartender to raise the volume to the speakers and allow the song that was playing to be heard by everyone in a close proximity to us.</p>
<p>The loud clarinet rift, drawing from Colombian instruments, announced the beginning of the catchiest song I had heard throughout my six years of life. My grandpa was quick to call the song “disgusting” and “obscene,” the lyrics described the story of a man asking a woman to “dare to” let herself loose; the song asked the lady to relax and allow herself to enjoy the company of the man. Despite not understanding at that point the true intention of the song, the rhythm, instruments, and words stuck with me; it amazed me to see how quickly one song was able to transform the ambiance in the beach from one of relaxation to one of celebration, the teens and young adults at the beach began to “dare to” let loose and form dance circles near the speakers. It was amazing to see the way a song could bring together people.</p>
<p>When we got home that afternoon, I asked my cousin to tell me the name of the artist so my mom could burn a CD with their songs. My cousin said the song was created by a Puerto Rican band called <em>Calle 13</em>, composed of Residente, Visitante, and iLe, the step-siblings would go on to lead a revolutionary musical career in the up and coming genre of reggaeton music.</p>
<p>However, it would be Residente who would shake to its core the foundation of Latin music and governments throughout his career and leave a lasting impact on my life.</p>
<h2>I. Un Pueblo Sin Piernas Pero Que Camina (A Community Without Legs That Nonetheless Walks)</h2>
<blockquote>“El gobernador de Puerto Rico es un hijo de la gran puta!” (The Puerto Rican governor is a big son of a bitch)<p class="quote-attrib">— Residente, 2009</p></blockquote>
<p>Born René Perez Joglar in 1978 in San Juan, Puerto Rico to an actress for a mother and a socialist lawyer for a father, Residente has been surrounded by the intersection between arts and politics all his life. Growing up in a lower-middle class neighborhood, Residente saw first hand the experiences that years of colonial forces brought upon the citizens of Puerto Rico. He recounts in his song “Reńe” the brutal killing of his childhood best friend at the hands of four cops and the constant bloodshed that was present in his neighborhood which took away many of his loved ones. In 2005, leader of the Puerto Rican revolutionary group known as “Los Macheteros” Filiberto Ojeda Ríos was shot down by members of the FBI during a raid conducted in his house. To many on the island, the killing appeared to have been planned as “Los Macheteros” had grown immensely in political influence over the past years and the rumors of another Grito de Lares (the most successful Puerto Rican raid aimed to throw out Spanish forces off the island) seemed to threaten the power and control that the U.S. has been holding on for over 200 years (Jiménez). Upon hearing the news of the killings and as more facts surfaced, Residente needed an outlet to express the anger that he felt and the blatant humiliation of his country through the killing of Ríos; this led Residente to write his first single in collaboration with his step-brother Visitante, their hit song “Querido F.B.I” (Dear F.B.I). The song focused on berating the actions of the Puerto Rican government, condemning the F.B.I, and denouncing Puerto Rico’s status as a colony of the United States. Upon its release -5 days after the murder of Filiberto- the song took the island by storm and it quickly launched Residente and his brother into the public spotlight. It was said in a 2007 article by the North American Congress on Latin America that through the release of the song, Calle 13 altered the relation between reggaeton music and politics (Negrón and Rivera). The usage of reggaeton as a political vehicle opened a new door to the genre and foreshadowed the beginning of what would become a lengthy career, for Residente, of utilizing reggaeton as an outlet to mobilize communities and criticize the status quo.</p>
<p>In 2009, after 10 months in office, governor Luis Fortuño fired over 17,000 federal workers (Rivera). Following claims of members of his administration referring to working class Puerto Ricans as “lazy,” “<em>garrapatas</em>” (fleas), and “terrorists,” the decision to mass fire the federal workers resulted in the organization of general strikes across the island; the drastic measure was a part of Fortuño’s plan to accelerate the economic progress of the island. Despite the massive backlash that the action gathered, Fortuño continued to implement measures to privatize and un-nationalize industries in the island. That same year, the Latin MTV Awards invited Residente, among other popular artists, to host the event. During his time as a host, Residente made multiple political stances, first by wearing a shirt that sported the words “<em>Uribe paramilitar</em>” (Uribe paramilitary) in reference to the decision of the Colombian government to allow the United States to utilize its military bases, second by sporting a different shirt throughout the program that read “Chávez nominado a mejor artista pop” (Chavez nominated for best pop artist) a jab at the public opinion on the Venezuelan president, and lastly upon taking the stage wearing a shirt that read “Puerto Rico libre” (Free Puerto Rico). Upon taking the stage, Residente began to call for the liberation of Puerto Rico from its colonial status and for the unification of Latin America through the rejection of imperialist forces upon the nations. However, as he began to discuss the protests in Puerto Rico and the drastic actions of the governor on the people, his words grew harsh, he took the microphone, looked at the camera, called for the undivided attention of the people and loudly claimed “<em>El gobernador de Puerto Rico es un hijo de la gran puta!</em>” (the Puerto Rican governor is a big son of a bitch!). The following day it was announced that Residente and his brother would no longer be allowed to perform or be played in the radios in Puerto Rico, a decision that would last four years.</p>
<p>In the following years, when asked about the incident Residente was quick to mention that his words came from a place of anger from the loss of jobs and the humiliation of the back bone of the island, he said that his mother was one of those affected by the governor's actions. He established: “ I was upset, really upset. But I am a little more strategic now - I want to speak the truth, but I do not want to diminish the merits of what I am saying” (Morales); his attitude after the incident shifted, nonetheless, his art remained his most potent weapon.</p>
<p>The concept of social consciousness as the center of his music, evidently, guided the works of René after the MTV incident. In 2011, the song “Latinoamérica” was released and it proved to be a heartfelt letter to the continent; the song discusses the narratives that surround the Americas, such as those of the violent crime rates in the nations, the exploitation of the natural resources at the hands of foreign powers, and the eradication of indigenous culture. The song combines musical aspects from multiple Latin American countries and was composed during a journey that his brother and he took throughout Latin America in order to examine the question of what makes up the Americas. The powerful visuals of the ever-changing faces of the people of Latin America and the evolving communities effectively communicate the frustration and pride that many Latin Americans face in respect to their nations. For Residente, the song remains one of the most important he has ever done, when asked about the song he said: “It is the most important song we have done, documenting what we were, what we are, and what it means to be Latin American. I think that strengthens our identity and helps us to remember and never forget.” (René Pérez Joglar).</p>
<p>The first time I heard “Latinoamérica,” I was absolutely starstruck. In 2020, I was beginning my college application process and after entering a year of (non-voluntary) self-reflection, I began to become infatuated with discovering more about the country that made me. I have always been interested in social and political causes, the idea that our bodies and our location have been branded by preconceived notions that were established centuries before our existence was even a thought was always intriguing to me; however, I had always focused on this phenomena in the United States, it had never occurred to me to examine one of the prime examples of the lasting consequences of imperialism and the evolving of racial tensions: Latin America. To be fair, I do not recall how I ended up on the YouTube video, what I do recall are the goosebumps that began after the intro to the song; it felt like a conversation of self-acceptance in which a person recognizes their detriments, while also applauding their milestones. As the song progressed, I felt more drawn in and just when I thought the song could not get better, Residente sang “<em>Soy America Latina, un pueblo sin piernas pero que camina</em>” (I am Latin America, a community without legs that nonetheless walks). Those words have altered completely the way in which I assess the situations in Latin America, as well as the direction my life has taken.</p>
<p>His words instigated in me a desire to understand the fight he talked about and as I began my research and read about the corruption, the rivers, the killings, the literature, the kidnappings, the tropical destinations, the privatized industries, the dances, and the economic depressions, I continued to discover more of Residente. I realized that his level of understanding combined with his beautiful expression of ideals and views of injustice and justice were something that I sought to reproduce in my own life. It was actually because of him that I even considered stepping outside of my comfort zone and applying to NYU; his words made me believe that someone from my background is capable of taking the world through a storm with my words.</p>
<h2>II. Invierto Todo En Mi Carrera, Porque El Arte Va Primero (I Invest Everything In My Career, Because Art Comes First)</h2>
<blockquote>“Empujarse lo mongo” (Push the unconventional)<p class="quote-attrib">— Residente, 2010</p></blockquote>
<p>Residente has notoriously submerged himself into his art. Whenever a new concept or idea pops into his brain, he is very quick to push himself to understand or emulate it. It is the sort of passion for his ideas that has made his influence in my person remain strong; Residente does not tend to go with the flow of what is popular at the time, nor does he seem to care if his popularity makes him mainstream. In 2011, his brother Visitante and him embarked on a trip throughout Latin America, in which they migrated with multiple indigenous communities throughout the continent in order to understand their cultures and struggles. From this trip, his musical style would become marked by the -typically shunned- influence of the native populations of the Americas, an influence that dictated the production of their second album<em>Residente o Visitante</em> and many of this other songs such as “Latinoamérica” and “Pal’ Norte.”</p>
<p>In 2010, the artist performed in the Tribuna Anitimperialista in La Habana, Cuba. A decision that was widely criticized by many who were quick to condemn Residente’s decision to step in the island despite the common narrative of oppression that surrounds it. His performance was attended by over 500 thousand people and his time on the island focused on his exposure to the way of life of the Cuban people. To me, it is this passion that Residente places on understanding the circumstances and both sides of each story that attracts me to his music; his judgements are made based on experience and rationale, he does not criticize just to criticize, nor does he flatter just to flatter. Speaking for a documentary focused on his time in Cuba, Residente spoke of his initiation into the music game and said of his motto when signing to a record agency “to be honest is important to me, if you are not going to sign me, then do not sign me” (Rinaldi). His brutal honesty is a driving point throughout his art, on his song “Ven y Criticame” for his third album Los De Atras Vienen Conmigo, he says “No me importa si todo lo que escribo a ustedes los ofende, tampoco me importa un carajo si este disco vende. Si yo quisiera vender algo montaba una tienda, prefiero regalarte música, aunque tu no la entiendas” (I do not care if everything I write offends you, nor do I give a fuck if this record sells. If I wanted to sell something I would set up a shop, I would rather gift you music, even if you do not understand it). Throughout his career he has determined that it is his expression of his beliefs that motivates his art, he is not driven by the premise of economic profit rather he seeks to put out what he deems to be important (Residente, 2:26-32). For me, observing and hearing of Residente’s willingness to risk his social status and even his economic prosperity to speak his mind and pursue his passions, motivates me to be more authentic with myself. He pushes me to pursue interests that I am passionate about with complete faith that my decisions -although not supported by everyone- bring forward my essence which is all that should matter.</p>
<h2>III. Todo Lo Que Muere, Es Porque Alguna Vez Nació (Everything that dies, is because it dared to live )</h2>
<blockquote>“Estoy triste y me río, el concierto está lleno pero yo estoy vacío” (I am sad and still laugh, the stadium is full, but I am empty)<p class="quote-attrib">— Residente, 2020</p></blockquote>
<p>Residente has to be the most versatile artist that I ever encountered. His art fluctuates from reggaeton, to social consciousness, to films, to mental health advocacy. During the peak of his career, Residente entered a battle with depression, a struggle he relates in his song “René.” In the song, the audience is presented with a side of Residente that we had not seen before, he is extremely vulnerable in his lyrics and expresses his regrets throughout his life, the emptiness he feels, and his desire to return to the time before his life stopped belonging to him. The reggaeton genre and overall Latin media does not tend to center the mental health struggles of individuals, much less discuss depression among men; thus, Residente breaks yet another boundary of the genre and the entire music industry. He tells his truth. To me, his vulnerability makes me examine my own mental health struggles and recognize the need to break down sometimes before one can get back up.</p>
<p>Moreover, Residente expresses love, not just political unrest. In 2017, Residente released his song “Milo,” which is a love letter for his son; in the song he tells his son of the lessons he hopes to teach him, but more specifically he tells how the birth of Milo has brought purpose into his life, “Ahora ya se por que escribo, aunque nunca sepa el dia ni la hora en la que vivo” (Now I know why I write, even though I do not know what day or hour I live in); his love for his son breaks him away from his typical portrayal as a “tough” man and once again we see the softer side, the more human side of René (Residente, 2:26-31). The first time I heard “Milo,” I was captivated by the sounds, the instruments, and the mixture of different cultures in the background. René wrote this song during his time in Ghana following his desire to trace back his DNA and visit every country that made up the history of his existence. He once again has a driving desire to understand humanity -a desire that has honestly been contagious.</p>
<p>To me, the majority of Residente songs are masterpieces. His music simply moves me, either to dance or to question the status quo. However, his song “La Vida (Respira El Momento)” motivates me to stop for a second and admire my surroundings, it inspires me to breathe in the moment and confront and come to terms with the momentary experience that is life. The song feels like a religious experience to me, the song opens with a choir and a piano then Residente begins to describe the cycle of life, ultimately concluding with death. Confronting mortality is a difficult idea for me (as I assume it is for many), yet Residente frames the experience of living so beautifully that the inevitable end appears as a peaceful experience rather than a terrifying void. Moreover, the music video for the song has to be one of the most beautiful and chill-inducing videos I have ever seen; the video follows the cycle of life with multiple individuals, depicting symbols for what appear to be common life experiences that the majority of us will experience. The song, like many of his “softer” projects, presents Residente as an individual who looks for the greater scope of things and although years later his flame for life would diminish, it is evident in the song that, despite the hardships Residente is able to find the beauty in the mundane.</p>
<p>For me the best side of Residente has to be his softer side, in which he showcases his humanity and his desire to build the basic human experiences, rather than to live lavishly like most reggaetoneros boast of now-a-days.</p>
<h2>IV. La Vuelta Al Mundo (A Trip Around The World)</h2>
<blockquote>“No se cuentan los segundos, se cuentan las historias” (We do not count seconds, we count stories)<p class="quote-attrib">— Residente, 2010</p></blockquote>
<p>Residente’s art and rhetoric has become an influential part of my life. His words inspire me to complete assignments, apply to my dream school, take risks, and live life. I am not one to engage in “parasocial” relationships, that which Dr. Ivy Kwong defines as a “one-sided relationship that a media user engages with a media persona” (Kwong); however, it was almost impossible to not support his art the more I learned about him and his projects. The impact of his art on my person seems small at first, but his words encourage me to live more freely, yet more justly; it was his words that have guided me through almost every major social and personal issue I have confronted recently. His music is an important part of my life, the same way that the desire to speak the truth is to him.</p>
<h2>Works Cited</h2>
<p>Calle 13. Calle 13. Album. White Lion Records, 29 Nov 2005.</p>
<p>Calle 13. Entren Los Que Quieran. Album. Sony Music Latin, 22 Nov 2010.</p>
<p>Calle 13. Los de Atrás Vienen Conmigo. Album. Sony Music Latin, 21 Oct 2008.</p>
<p>Calle 13. Residente o Visitante. Album. Sony BMG, 24 Apr 2007.</p>
<p>Cooperativa.cl. “Calle 13 se quedó sin escenario por insultar al gobernador de Puerto Rico.” Cooperativa, 17 October 2009, https://www.cooperativa.cl/noticias/entretencion/musica/calle-13/calle-13-se-quedo-sin-escenario-por-insultar-al-gobernador-de-puerto-rico/2009-10-17/212636.html. Accessed 9 April 2022.</p>
<p>Guevara, Silvia. “LATINOAMERICA by CALLE13.” WOMEX, https://www.womex.com/virtual/conga_booking_sl/free_ads/offer/artists/latinoamerica_by. Accessed 9 April 2022.</p>
<p>Jiménez, Félix. “The Killing of Filiberto Ojeda Ríos.” The Nation, 7 October 2005, https://www.thenation.com/article/archive/killing-filiberto-ojeda-rios/. Accessed 8 April 2022.</p>
<p>Joglar, René P. Residente. Album. Sony Music Latin, 31 Mar 2017.</p>
<p>Kwong, Ivy, and Cynthia Vinney. “What Is a Parasocial Relationship?” Verywell Mind, 22 December 2021, https://www.verywellmind.com/what-is-a-parasocial-relationship-5210770. Accessed 12 April 2022.</p>
<p>Morales, Ed. “Calle 13's Residente tames his anger in new CD, 'Everybody Is Welcome.'” NY Daily News, 17 November 2010, https://www.nydailynews.com/latino/calle-13-residente-tames-anger-new-cd-article-1.456742#ixzz1zupQ1Zl6. Accessed 9 April 2022.</p>
<p>Negrón, Frances, and Raquel Z. Rivera. “Reggaeton Nation | NACLA.” NACLA |, 13 March 2008, https://nacla.org/news/reggaeton-nation. Accessed 8 April 2022.</p>
<p>Rinaldi, Leá, director. Calle 13 en La Habana [Calle 13 in Havana]. Aleá Films, 2011.</p>
<p>Rivera, Yolanda. “Puerto Rico Strikes.” Puerto Rico and the American Dream, 1 November 2009, http://www.prdream.com/wordpress/topics/2009/11/1085/. Accessed 9 April 2022.</p>
          </article>
        </div>

        <div class="mt-10 not-prose flex justify-center">
          <div class="shareCard" role="group" aria-label="Share">
            <span class="shareLabel">Share</span>

            <a id="share-x" class="socialContainer containerX" aria-label="Share on X" target="_blank" rel="noopener noreferrer">
              <svg class="xSvg fill-icon" viewBox="0 0 1200 1227" aria-hidden="true">
                <path d="M714.2 519.9 1161.5 0H1055L671.7 442.2 356.1 0H0l468.9 684.1L0 1226.6h106.5l407.4-467.9 336.7 467.9h356.1L714.2 519.9Zm-144 165.6-47.2-65.3L180.4 80h162.7l228.6 316.8 47.2 65.3L1021 1146.6H858.3L570.2 685.5Z"/>
              </svg>
            </a>

            <a id="share-fb" class="socialContainer containerFB" aria-label="Share on Facebook" target="_blank" rel="noopener noreferrer">
              <svg class="socialSvg fill-icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M22 12.073C22 6.486 17.523 2 12 2S2 6.486 2 12.073C2 17.09 5.657 21.127 10.438 22v-6.999H7.898v-2.928h2.54V9.845c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.47h-1.26c-1.243 0-1.63.772-1.63 1.562v1.874h2.773l-.443 2.928h-2.33V22C18.343 21.127 22 17.09 22 12.073"/>
              </svg>
            </a>

            <a id="share-mail" class="socialContainer containerMail" aria-label="Share via Email">
              <svg class="socialSvg fill-icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 4-8 5-8-5V6l8 5 8-5v2Z"/>
              </svg>
            </a>

            <button id="share-copy" class="socialContainer containerCopy" aria-label="Copy link" type="button">
              <svg class="clipboard-svg" viewBox="0 0 24 24" aria-hidden="true">
                <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                <path d="M16 4h2a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
              </svg>
            </button>
          </div>
        </div>

        <section class="mt-12 border-t border-black/10 pt-6">
          
          <a
            href="../about/"
            class="author-link flex items-start gap-4 group"
            aria-label="About Camila Tiburcio Rubio"
          >
            <img
              src="../assets/camila.jpg"
              alt="Photo of Camila Tiburcio Rubio"
              class="w-14 h-14 rounded-full object-cover group-hover:ring-2 group-hover:ring-accent group-hover:ring-offset-2 group-hover:ring-offset-cream"
            />
            <div>
              <p class="font-semibold">
                <span class="u-underline">Camila Tiburcio Rubio</span>
              </p>
              <p class="text-sm text-ink-300 mt-1">
                Writer and cultural researcher focusing on Cuba and the Caribbean,
                Masters Candidate in Latin America and Caribbean Studies at NYU.
              </p>
            </div>
          </a>
          
        </section>

        <section id="more" class="mt-12 border-t border-black/10 pt-8">
          <div class="flex items-center justify-between gap-3 mb-4">
            <h2 class="font-serif text-2xl">
              More Memoirs
            </h2>
            <div class="hidden sm:flex items-center gap-2">
              <button
                id="morePrev"
                type="button"
                class="inline-flex items-center justify-center w-8 h-8 rounded-full border border-black/10 bg-white text-xs text-ink-500 hover:text-ink-900 hover:border-black/20 shadow-soft transition"
                aria-label="Previous articles"
              >
                ←
              </button>
              <button
                id="moreNext"
                type="button"
                class="inline-flex items-center justify-center w-8 h-8 rounded-full border border-black/10 bg-white text-xs text-ink-500 hover:text-ink-900 hover:border-black/20 shadow-soft transition"
                aria-label="Next articles"
              >
                →
              </button>
            </div>
          </div>

          <div class="-mx-4 sm:mx-0">
            <div
              id="moreScroller"
              class="flex gap-5 overflow-x-auto pb-3 pl-4 sm:pl-0 snap-x snap-mandatory scroll-smooth"
            ></div>
          </div>

          <p id="moreSectionEmpty" class="hidden text-sm text-ink-300 mt-4">
            No related articles yet.
          </p>
        </section>

        <!-- Tag-based cross-section carousel -->
        <section id="moreTags" class="mt-10">
          <div class="flex items-center justify-between gap-3 mb-4">
            <h2 class="font-serif text-2xl">You may also like</h2>
            <div class="hidden sm:flex items-center gap-2">
              <button
                id="moreTagsPrev"
                type="button"
                class="inline-flex items-center justify-center w-8 h-8 rounded-full border border-black/10 bg-white text-xs text-ink-500 hover:text-ink-900 hover:border-black/20 shadow-soft transition"
                aria-label="Previous tagged articles"
              >
                ←
              </button>
              <button
                id="moreTagsNext"
                type="button"
                class="inline-flex items-center justify-center w-8 h-8 rounded-full border border-black/10 bg-white text-xs text-ink-500 hover:text-ink-900 hover:border-black/20 shadow-soft transition"
                aria-label="Next tagged articles"
              >
                →
              </button>
            </div>
          </div>

          <div class="-mx-4 sm:mx-0">
            <div
              id="moreTagsScroller"
              class="flex gap-5 overflow-x-auto pb-3 pl-4 sm:pl-0 snap-x snap-mandatory scroll-smooth"
            ></div>
          </div>

          <p id="moreTagsEmpty" class="hidden text-sm text-ink-300 mt-4">
            No tag-related articles yet.
          </p>
        </section>
      </main>

      <!-- Sticky TTS mini-player -->
      <div
        id="ttsStickyBar"
        class="fixed inset-x-0 bottom-4 z-50 flex justify-center px-4"
        style="display:none;"
      >
        <div
          id="ttsStickyInner"
          class="max-w-2xl w-full rounded-full border border-black/10 bg-white/95 shadow-soft backdrop-blur flex items-center gap-3 px-3 py-2"
        >
          <!-- Optional stop button on the left (desktop only) -->
          <button
            id="ttsStickyStop"
            type="button"
            class="hidden sm:inline-flex text-[11px] px-2.5 py-1 rounded-full border border-black/10 bg-white text-ink-400 hover:text-ink-900"
          >
            Stop
          </button>

          <!-- Progress bar -->
          <input
            id="ttsProgressRange"
            type="range"
            min="0"
            max="100"
            step="1"
            value="0"
            class="flex-1 mx-2"
          />

          <!-- Time label -->
          <span
            id="ttsProgressLabel"
            class="text-[11px] text-ink-400 font-medium tabular-nums whitespace-nowrap"
          >
            00:00 / 00:00
          </span>

          <!-- Play / Pause circle on the right -->
          <button
            id="ttsPlayPause"
            type="button"
            data-state="paused"
            class="inline-flex items-center justify-center rounded-full border border-black/10 bg-white/90 w-8 h-8 text-ink-500 shadow-soft hover:border-black/20 hover:text-ink-900 transition ml-1"
            aria-label="Play or pause article audio"
          >
            <!-- Play icon -->
            <svg data-icon="play" viewBox="0 0 24 24" class="h-3.5 w-3.5" aria-hidden="true" fill="currentColor">
              <polygon points="8,5 19,12 8,19" />
            </svg>

            <!-- Pause icon -->
            <svg data-icon="pause" viewBox="0 0 24 24" class="h-3.5 w-3.5" aria-hidden="true" fill="currentColor">
              <rect x="7" y="5" width="3.2" height="14" rx="1" />
              <rect x="13.8" y="5" width="3.2" height="14" rx="1" />
            </svg>
          </button>
        </div>
      </div>


      <!-- Back to top -->
      <button id="backTop"
              class="fixed right-4 bottom-4 hidden px-3 py-2 rounded-full border border-black/10 bg-white shadow-soft text-sm"
              aria-label="Back to top">↑ Top</button>

            <!-- Footer -->
      <footer class="mt-16 bg-white border-t border-black/10 text-sm text-ink-500">
        <!-- Desktop footer -->
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-10 hidden sm:grid sm:grid-cols-2 md:grid-cols-4 gap-10">
          <!-- Brand -->
          <div>
            <div class="-ml-1.5">
              <div class="flex items-center gap-1">
                <img src="../assets/logo.png" alt="Camila Tiburcio Rubio Logo" class="h-8 w-8 object-contain" />
                <span class="font-semibold text-ink-900">Camila Tiburcio Rubio</span>
              </div>
            </div>
            <p class="mt-2 text-ink-400 text-sm max-w-xs">
              Essays, interviews, and conversations from the life and mind of Camila Tiburcio Rubio.
            </p>
          </div>
          <!-- Explore -->
          <div>
            <h3 class="font-semibold text-ink-900 mb-3">Explore</h3>
            <ul class="space-y-2">
              <li><a href="../features/" class="u-underline">Features</a></li>
              <li><a href="../latest/" class="u-underline">Latest</a></li>
              <li><a href="../sections/" class="u-underline">Sections</a></li>
              <li><a href="../archive/" class="u-underline">Archive</a></li>
              <li><a href="../search/" class="u-underline">Search</a></li>
            </ul>
          </div>
          <!-- About -->
          <div>
            <h3 class="font-semibold text-ink-900 mb-3">About</h3>
            <ul class="space-y-2">
              <li><a href="../about/" class="u-underline">About</a></li>
              <li><a href="../contact/" class="u-underline">Contact</a></li>
              <li><a href="../mission/" class="u-underline">Mission</a></li>
              <li><a href="../resume/" class="u-underline">Résumé</a></li>
              <li><a href="../newsletter/" class="u-underline">Newsletter</a></li>
            </ul>
          </div>
          <!-- Follow -->
          <div>
            <h3 class="font-semibold text-ink-900 mb-3">Follow</h3>
            <ul class="space-y-2">
              <li><a href="https://instagram.com" class="u-underline">Instagram</a></li>
              <li><a href="https://twitter.com" class="u-underline">X / Twitter</a></li>
              <li><a href="https://facebook.com" class="u-underline">Facebook</a></li>
              <li><a href="https://linkedin.com" class="u-underline">Linkedin</a></li>
              <li><a href="https://youtube.com" class="u-underline">YouTube</a></li>
            </ul>
          </div>
        </div>

        <!-- Mobile accordion footer -->
        <div class="sm:hidden border-t border-black/10">
          <div class="max-w-6xl mx-auto px-4 py-6">
            <!-- Brand -->
            <div class="mb-6">
              <div class="-ml-1.5">
                <div class="flex items-center gap-1">
                  <img src="../assets/logo.png" alt="Camila Tiburcio Rubio Logo" class="h-8 w-8 object-contain" />
                  <span class="font-semibold text-ink-900">Camila Tiburcio Rubio</span>
                </div>
              </div>
              <p class="mt-2 text-ink-400 text-sm max-w-xs">
                Essays, interviews, and conversations from the life and mind of Camila Tiburcio Rubio.
              </p>
            </div>

            <!-- Explore -->
            <div class="border-t border-black/10">
              <button
                class="w-full flex items-center justify-between py-4 text-base font-medium text-ink-900"
                data-acc-btn="explore"
                aria-expanded="false"
              >
                <span>Explore</span>
                <svg
                  class="w-4 h-4 transform transition-transform"
                  viewBox="0 0 20 20"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                  data-acc-chevron="explore"
                  aria-hidden="true"
                >
                  <path d="M5 7.5L10 12.5L15 7.5" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
              </button>
              <div class="pb-4 space-y-2 text-sm text-ink-500 hidden" data-acc-panel="explore">
                <a href="../features/" class="block u-underline">Features</a>
                <a href="../latest/" class="block u-underline">Latest</a>
                <a href="../sections/" class="block u-underline">Sections</a>
                <a href="../archive/" class="block u-underline">Archive</a>
                <a href="../search/" class="block u-underline">Search</a>
              </div>
            </div>

            <!-- About -->
            <div class="border-t border-black/10">
              <button
                class="w-full flex items-center justify-between py-4 text-base font-medium text-ink-900"
                data-acc-btn="about"
                aria-expanded="false"
              >
                <span>About</span>
                <svg
                  class="w-4 h-4 transform transition-transform"
                  viewBox="0 0 20 20"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                  data-acc-chevron="about"
                  aria-hidden="true"
                >
                  <path d="M5 7.5L10 12.5L15 7.5" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
              </button>
              <div class="pb-4 space-y-2 text-sm text-ink-500 hidden" data-acc-panel="about">
                <a href="../about/" class="block u-underline">About</a>
                <a href="../contact/" class="block u-underline">Contact</a>
                <a href="../mission/" class="block u-underline">Mission</a>
                <a href="../resume/" class="block u-underline">Résumé</a>
                <a href="../newsletter/" class="block u-underline">Newsletter</a>
              </div>
            </div>

            <!-- Follow -->
            <div class="border-t border-black/10 border-b border-black/10">
              <button
                class="w-full flex items-center justify-between py-4 text-base font-medium text-ink-900"
                data-acc-btn="follow"
                aria-expanded="false"
              >
                <span>Follow</span>
                <svg
                  class="w-4 h-4 transform transition-transform"
                  viewBox="0 0 20 20"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                  data-acc-chevron="follow"
                  aria-hidden="true"
                >
                  <path d="M5 7.5L10 12.5L15 7.5" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
              </button>
              <div class="pb-4 space-y-2 text-sm text-ink-500 hidden" data-acc-panel="follow">
                <a href="https://instagram.com" class="block u-underline">Instagram</a>
                <a href="https://twitter.com" class="block u-underline">X / Twitter</a>
                <a href="https://facebook.com" class="block u-underline">Facebook</a>
                <a href="https://linkedin.com" class="block u-underline">Linkedin</a>
                <a href="https://youtube.com" class="block u-underline">YouTube</a>
              </div>
            </div>
          </div>
        </div>

        <div class="text-center text-xs text-ink-300 border-t border-black/10 py-6">
          © <span id="year"></span> Camila Tiburcio Rubio. All rights reserved.
        </div>
      </footer>

      <!-- Define CURRENT so related-posts JS works -->
            <!-- Define CURRENT so related-posts JS works -->
      <script>
        window.CURRENT = {
          slug: "ven-y-criticame-residente-and-his-impact-on-me",
          section: "Memoirs",
          tags: ["Music","Reparto"],
          date: "2025-11-29T06:12",
          title: "Ven Y Criticame: Residente and His Impact On Me"
        };
      </script>

      <script>
        (function(){
          const bar = document.getElementById('progress-bar');
          let label = document.getElementById('progress-label');

          if (!bar || !label) return;

          // 🔥 Make sure the label is attached directly to <body>
          if (label.parentElement !== document.body) {
            document.body.appendChild(label);
          }

          const textSpan = label.querySelector('[data-progress-text]');

          function onScroll(){
            const max = document.body.scrollHeight - innerHeight;
            const raw = max > 0 ? (scrollY / max) * 100 : 0;
            const pct = Math.max(0, Math.min(100, raw));

            bar.style.width = pct + '%';

            if (label && textSpan){
              if (pct < 5){
                label.style.display = 'none';
              } else if (pct >= 99){
                label.style.display = 'inline-flex';
                textSpan.textContent = 'Done';
              } else {
                label.style.display = 'inline-flex';
                textSpan.textContent = Math.round(pct) + '% read';
              }
            }
          }

          window.addEventListener('scroll', onScroll, { passive:true });
          onScroll();
        })();

        // Back button behavior
        (function () {
          const link = document.getElementById('backBtn');
          if (!link) return;
          const fallbackHref = link.getAttribute('href') || '/';
          link.addEventListener('click', (e) => {
            const ref = document.referrer;
            const sameOrigin = ref && new URL(ref, location.href).origin === location.origin;
            if (sameOrigin) { e.preventDefault(); history.back(); }
            else if (!ref)  { link.setAttribute('href', fallbackHref); }
            else            { link.setAttribute('href', fallbackHref); }
          });
        })();

        // Back-to-top button
        (function () {
          const backTop = document.getElementById('backTop');
          if (!backTop) return;

          const toggleTop = () => {
            if (window.scrollY > 600) backTop.classList.remove('hidden');
            else backTop.classList.add('hidden');
          };
          window.addEventListener('scroll', toggleTop, { passive:true });
          toggleTop();

          backTop.addEventListener('click', () =>
            window.scrollTo({ top:0, behavior:'smooth' })
          );
        })();

        // Dropcap on first paragraph
        (function addDropcap(){
          const firstP = document.querySelector('article.prose p');
          if(firstP) firstP.classList.add('dropcap');
        })();

        // Footer year
        (function () {
          const yearEl = document.getElementById('year');
          if (yearEl) yearEl.textContent = new Date().getFullYear();
        })();

        // Mobile footer accordion
        (function () {
          document.querySelectorAll('[data-acc-btn]').forEach(btn => {
            const name    = btn.getAttribute('data-acc-btn');
            const panel   = document.querySelector('[data-acc-panel="' + name + '"]');
            const chevron = document.querySelector('[data-acc-chevron="' + name + '"]');

            if (!panel) return;

            btn.addEventListener('click', () => {
              const isOpen = !panel.classList.contains('hidden');
              panel.classList.toggle('hidden');
              btn.setAttribute('aria-expanded', String(!isOpen));

              if (chevron) {
                chevron.classList.toggle('rotate-180', !isOpen);
              }
            });
          });
        })();

        // Bibliography wrapper
        (function enhanceBibliographyOnPage() {
          var article = document.querySelector('article.prose');
          if (!article) return;

          var headings = Array.prototype.filter.call(
            article.querySelectorAll('h2'),
            function (h) {
              var text = (h.textContent || '').trim().toLowerCase();
              return (
                text === 'bibliography' ||
                text === 'references' ||
                text === 'works cited'
              );
            }
          );

          if (!headings.length) return;

          var h = headings[0];
          var parent = h.parentNode;
          if (!parent) return;

          var wrapper = document.createElement('section');
          wrapper.className = 'bibliography-section';
          parent.insertBefore(wrapper, h);

          var node = h;
          while (node) {
            var next = node.nextSibling;
            wrapper.appendChild(node);

            if (next && next.nodeType === 1) {
              var tag = next.tagName;
              if (tag === 'H1' || tag === 'H2') {
                break;
              }
            }
            node = next;
          }

          var index = 1;
          Array.prototype.forEach.call(
            wrapper.querySelectorAll('ol li, ul li, p'),
            function (item) {
              var raw = (item.textContent || '').trim();
              var m = raw.match(/^(\d+)\.\s*(.*)$/);
              if (m) {
                item.textContent = m[2];
                item.setAttribute('data-bib-index', m[1]);
              } else {
                item.setAttribute('data-bib-index', String(index));
              }

              item.classList.add('bibliography-item');
              index++;
            }
          );
        })();

        // Share links
        (function(){
          const url  = encodeURIComponent(location.href);
          const text = encodeURIComponent(document.title || 'Check this out');
          const x    = document.getElementById('share-x');
          const fb   = document.getElementById('share-fb');
          const mail = document.getElementById('share-mail');
          const copy = document.getElementById('share-copy');

          if (x)  x.href  = 'https://twitter.com/intent/tweet?text=' + text + '&url=' + url;
          if (fb) fb.href = 'https://www.facebook.com/sharer/sharer.php?u=' + url;

          if (mail){
            mail.href = 'mailto:?subject=' + text + '&body=' + url;
            mail.addEventListener('click', async (e) => {
              if (navigator.share) {
                e.preventDefault();
                try { await navigator.share({ title: document.title, url: location.href }); }
                catch {}
              }
            });
          }

          if (copy){
            copy.addEventListener('click', async () => {
              try {
                await navigator.clipboard.writeText(location.href);
                copy.style.transform = 'scale(0.96)';
                setTimeout(function(){ copy.style.transform = ''; }, 120);
              } catch {
                alert("Couldn't copy the link.");
              }
            });
          }
        })();

        // Jump-to-section menu (auto from <h2> & <h3>)
        (function setupJumpMenu(){
          const article    = document.querySelector('article.prose');
          const mobileBox  = document.getElementById('jumpMenu');
          const mobileList = document.getElementById('jumpMobileList');
          const toggleBtn  = document.getElementById('jumpToggleBtn');

          if (!article) return;

          const headings = Array.from(article.querySelectorAll('h2, h3'));
          const h2Count = headings.filter(h => h.tagName === 'H2').length;
          if (h2Count < 2) {
            if (mobileBox) mobileBox.classList.add('hidden');
            return;
          }

          function makeId(text, index){
            var slug = (text || '')
              .toLowerCase()
              .replace(/[^\w]+/g, '-')
              .replace(/^-+|-+$/g, '');
            if (!slug) slug = 'section-' + (index + 1);
            if (!document.getElementById(slug)) return slug;
            return slug;
          }

          const items = headings.map(function(h, index){
            const label = (h.textContent || '').trim() || ('Section ' + (index + 1));
            const id    = h.id || makeId(label, index);
            const level = h.tagName === 'H2' ? 2 : 3;

            if (!h.id) h.id = id;
            return { id: id, label: label, el: h, level: level };
          });

          const headerOffset = 90;

          function scrollToId(id){
            const target = document.getElementById(id);
            if (!target) return;
            const top = target.getBoundingClientRect().top + window.scrollY - headerOffset;
            window.scrollTo({ top: top, behavior: 'smooth' });
          }

          // Mobile dropdown
          if (mobileBox && mobileList && toggleBtn){
            mobileBox.classList.remove('hidden');
            mobileList.innerHTML = '';

            items.forEach(function(item){
              const b = document.createElement('button');
              b.type = 'button';
              b.textContent = item.label;

              b.className =
                'block w-full text-left text-sm py-1 ' +
                (item.level === 3
                  ? 'pl-5 text-ink-400'
                  : 'pl-2 text-ink-500 hover:text-ink-900');

              b.dataset.level = String(item.level);

              b.addEventListener('click', function () {
                scrollToId(item.id);
                mobileList.classList.add('hidden');
              });
              mobileList.appendChild(b);
            });

            toggleBtn.addEventListener('click', function () {
              mobileList.classList.toggle('hidden');
            });
          }

          // Desktop floating pill
          let desktopCard = document.getElementById('jumpFloatingDesktop');
          if (!desktopCard){
            desktopCard = document.createElement('aside');
            desktopCard.id = 'jumpFloatingDesktop';
            desktopCard.innerHTML =
              '<div class="jump-card-inner">' +
                '<p class="jump-label">Jump to</p>' +
                '<ul class="jump-list"></ul>' +
              '</div>';
            document.body.appendChild(desktopCard);
          }

          const ul = desktopCard.querySelector('ul');
          ul.innerHTML = '';

          items.forEach(function(item, idx){
            const btn = document.createElement('button');
            btn.type = 'button';
            btn.textContent = item.label;
            btn.dataset.id = item.id;
            btn.dataset.level = String(item.level);

            if (idx === 0) btn.dataset.active = 'true';
            btn.addEventListener('click', function () { scrollToId(item.id); });

            const li = document.createElement('li');
            li.appendChild(btn);
            ul.appendChild(li);
          });

          function updateActive(){
            const scrollPos = window.scrollY + headerOffset + 10;
            let currentIndex = 0;

            items.forEach(function(item, idx){
              const top = item.el.getBoundingClientRect().top + window.scrollY;
              if (top <= scrollPos) currentIndex = idx;
            });

            const buttons = desktopCard.querySelectorAll('button');
            buttons.forEach(function(btn, idx){
              btn.dataset.active = idx === currentIndex ? 'true' : 'false';
            });
          }

          function updateVisibility() {
            if (window.scrollY > 320) {
              desktopCard.classList.add('jump-visible');
            } else {
              desktopCard.classList.remove('jump-visible');
            }
          }

          window.addEventListener('scroll', updateActive, { passive:true });
          window.addEventListener('scroll', updateVisibility, { passive:true });

          updateActive();
          updateVisibility();
        })();

        // Estimated TTS total time (from readMinutes)
        var TTS_TOTAL_SECONDS = 900;

        // --- Site root helper so carousel links don't nest under this slug ---
        // --- Simple helper: keep things at site root ---
        function toBase(u) {
          if (!u) return '';
          if (/^https?:\/\//i.test(u)) return u;     // already absolute
          if (u.startsWith('/')) return u;           // already root-relative
          // make "slug/" or "images/..." → "/slug/" or "/images/..."
          if (u.startsWith('./')) return '/' + u.slice(2);
          if (u.startsWith('.')) return '/' + u.slice(1);
          return '/' + u;
        }

        // Normalize image paths to /images/... format
        function normalizeImagePath(src) {
          if (!src) return '';
          
          // Strip any full URL down to just the path part
          if (src.includes('://')) {
            const urlParts = src.split('/');
            const imagesIndex = urlParts.indexOf('images');
            if (imagesIndex !== -1) {
              src = '/' + urlParts.slice(imagesIndex).join('/');
              return src;
            }
          }
          
          // If it starts with "images/..." (no slash), make it "/images/..."
          if (src.startsWith('images/')) {
            return '/' + src;
          }
          
          // If already starts with /, keep it
          if (src.startsWith('/')) {
            return src;
          }
          
          return '/' + src;
        }

        // Read-aloud / text-to-speech with sticky bar + word highlight
        (function setupTTS() {
          if (!('speechSynthesis' in window)) {
            var btn = document.getElementById('ttsToggle');
            var bar = document.getElementById('ttsStickyBar');
            if (btn) btn.style.display = 'none';
            if (bar) bar.style.display = 'none';
            return;
          }

          var synth      = window.speechSynthesis;
          var article    = document.querySelector('article.prose');
          var listenBtn  = document.getElementById('ttsToggle');
          var stickyBar  = document.getElementById('ttsStickyBar');
          var playPause  = document.getElementById('ttsPlayPause');
          var range      = document.getElementById('ttsProgressRange');
          var label      = document.getElementById('ttsProgressLabel');
          var stopBtn    = document.getElementById('ttsStickyStop');

          if (!article || !listenBtn || !stickyBar || !playPause || !range || !label) return;

          var sentenceSpans  = [];
          var sentenceStarts = [];
          var speechText     = '';
          var lastSentenceIndex = -1;

          function processTextNode(node) {
            var text = node.textContent;
            if (!text || !text.trim()) return;

            var frag = document.createDocumentFragment();
            var sentenceRegex = /[^.!?]+[.!?]+/g;
            var match;
            var lastIndex = 0;

            while ((match = sentenceRegex.exec(text)) !== null) {
              var sentence  = match[0];
              var startIdx  = match.index;

              if (startIdx > lastIndex) {
                var before = text.slice(lastIndex, startIdx);
                frag.appendChild(document.createTextNode(before));
                speechText += before;
              }

              var span = document.createElement('span');
              span.textContent = sentence;
              span.className = 'tts-sentence';
              span.setAttribute('data-sentence-index', String(sentenceSpans.length));

              sentenceSpans.push(span);
              sentenceStarts.push(speechText.length);
              speechText += sentence;

              frag.appendChild(span);
              lastIndex = startIdx + sentence.length;
            }

            if (lastIndex < text.length) {
              var tail = text.slice(lastIndex);
              frag.appendChild(document.createTextNode(tail));
              speechText += tail;
            }

            node.parentNode.replaceChild(frag, node);
          }

          function walk(node) {
            if (node.nodeType === Node.TEXT_NODE) {
              processTextNode(node);
              return;
            }
            if (node.nodeType !== Node.ELEMENT_NODE) return;
            if (node.classList && node.classList.contains('tts-sentence')) return;

            var child = node.firstChild;
            while (child) {
              var next = child.nextSibling;
              walk(child);
              child = next;
            }
          }

          walk(article);

          if (!speechText.trim().length || !sentenceSpans.length) {
            listenBtn.style.display = 'none';
            stickyBar.style.display = 'none';
            return;
          }

          var totalLength = speechText.length;
          var wordsCount = speechText.split(/\s+/).filter(Boolean).length;
          var estimatedSeconds = Math.max(10, Math.round((wordsCount / 180) * 60));
          var totalSeconds =
            typeof window.TTS_TOTAL_SECONDS === 'number' && window.TTS_TOTAL_SECONDS > 0
              ? window.TTS_TOTAL_SECONDS
              : estimatedSeconds;

          function formatTime(sec) {
            sec = Math.max(0, Math.round(sec));
            var m = Math.floor(sec / 60);
            var s = sec % 60;
            return (m < 10 ? '0' : '') + m + ':' + (s < 10 ? '0' : '') + s;
          }

          function highlightSentence(index) {
            if (index < 0 || index >= sentenceSpans.length) return;
            if (lastSentenceIndex >= 0 && sentenceSpans[lastSentenceIndex]) {
              sentenceSpans[lastSentenceIndex].classList.remove('tts-sentence--active');
            }
            sentenceSpans[index].classList.add('tts-sentence--active');
            lastSentenceIndex = index;
          }

          function clearHighlight() {
            if (lastSentenceIndex >= 0 && sentenceSpans[lastSentenceIndex]) {
              sentenceSpans[lastSentenceIndex].classList.remove('tts-sentence--active');
            }
            lastSentenceIndex = -1;
          }

          function findSentenceIndexFromChar(charIndex) {
            if (!sentenceStarts.length) return -1;
            var lo = 0;
            var hi = sentenceStarts.length - 1;
            var ans = 0;

            while (lo <= hi) {
              var mid = (lo + hi) >> 1;
              if (sentenceStarts[mid] <= charIndex) {
                ans = mid;
                lo = mid + 1;
              } else {
                hi = mid - 1;
              }
            }
            return ans;
          }

          var utterance  = null;
          var isActive   = false;
          var isPlaying  = false;
          var isPaused   = false;
          var baseOffset = 0;
          var currentIdx = 0;

          function setPlayState(state) {
            playPause.setAttribute('data-state', state);

            var playIcon  = playPause.querySelector('[data-icon="play"]');
            var pauseIcon = playPause.querySelector('[data-icon="pause"]');

            if (state === 'playing') {
              playIcon.style.display = 'none';
              pauseIcon.style.display = 'block';
            } else {
              playIcon.style.display = 'block';
              pauseIcon.style.display = 'none';
            }
          }

          function updateProgressUI(percent) {
            var pct = Math.max(0, Math.min(100, percent));
            range.value = pct;

            var currentSeconds = (totalSeconds * pct) / 100;
            label.textContent = formatTime(currentSeconds) + ' / ' + formatTime(totalSeconds);

            var fill  = '#C53D2F';
            var track = 'rgba(15,23,42,0.08)';

            range.style.background =
              'linear-gradient(to right, '
              + fill  + ' 0%, '
              + fill  + ' ' + pct + '%, '
              + track + ' ' + pct + '%, '
              + track + ' 100%)';
          }

          function resetPlayback(keepProgress) {
            synth.cancel();
            utterance  = null;
            isPlaying  = false;
            isPaused   = false;
            baseOffset = 0;
            currentIdx = 0;
            setPlayState('paused');
            if (!keepProgress) {
              updateProgressUI(0);
              clearHighlight();
            }
          }

          function hideStickyBar() { stickyBar.style.display = 'none'; }
          function showStickyBar() { stickyBar.style.display = 'flex'; }

          function stopListeningMode() {
            resetPlayback(false);
            isActive = false;
            hideStickyBar();
            clearHighlight();
            listenBtn.textContent = 'Listen to article';
          }

          function createUtteranceFromOffset(offset) {
            if (!totalLength) return;

            var clamped = Math.max(0, Math.min(totalLength - 1, offset));
            var slice   = speechText.slice(clamped);
            if (!slice.trim()) {
              resetPlayback(false);
              updateProgressUI(100);
              return;
            }

            synth.cancel();
            utterance = new SpeechSynthesisUtterance(slice);
            utterance.lang = 'en-US';
            utterance.rate = 1.0;

            baseOffset = clamped;
            currentIdx = 0;

            utterance.onboundary = function (e) {
              if (typeof e.charIndex === 'number') {
                currentIdx = e.charIndex;
                var absolute = baseOffset + currentIdx;
                var pct = (absolute / totalLength) * 100;
                updateProgressUI(pct);

                var sentenceIndex = findSentenceIndexFromChar(absolute);
                if (sentenceIndex >= 0) highlightSentence(sentenceIndex);
              }
            };

            utterance.onend = function () {
              isPlaying = false;
              isPaused = false;
              updateProgressUI(100);
              setPlayState('paused');
            };

            utterance.onerror = function () {
              resetPlayback(false);
            };

            isPlaying = true;
            isPaused  = false;
            setPlayState('playing');
            synth.speak(utterance);
          }

          listenBtn.addEventListener('click', function () {
            if (!isActive) {
              isActive = true;
              showStickyBar();
              listenBtn.textContent = 'Stop listening';
              updateProgressUI(0);
              clearHighlight();
              createUtteranceFromOffset(0);
            } else {
              stopListeningMode();
            }
          });

          playPause.addEventListener('click', function () {
            if (!isActive) return;

            if (!isPlaying && !isPaused) {
              var pct = parseFloat(range.value) || 0;
              var offset = Math.floor((pct / 100) * totalLength);
              createUtteranceFromOffset(offset);
              return;
            }

            if (isPlaying && !isPaused) {
              synth.pause();
              isPaused = true;
              setPlayState('paused');
              return;
            }

            if (isPlaying && isPaused) {
              synth.resume();
              isPaused = false;
              setPlayState('playing');
            }
          });

          if (stopBtn) {
            stopBtn.addEventListener('click', function () {
              if (!isActive) return;
              stopListeningMode();
            });
          }

          range.addEventListener('input', function () {
            if (!isActive || !totalLength) return;

            var pct = Math.max(0, Math.min(100, parseFloat(range.value)));
            updateProgressUI(pct);

            var absolute = Math.floor((pct / 100) * totalLength);
            var sIdx = findSentenceIndexFromChar(absolute);
            if (sIdx >= 0) highlightSentence(sIdx);

            if (isPlaying) {
              createUtteranceFromOffset(absolute);
            }
          });

          window.addEventListener('beforeunload', function () {
            synth.cancel();
          });

          updateProgressUI(0);
        })();

        // Related articles
        async function loadRelated () {
          const scrollerSection = document.getElementById('moreScroller');
          const scrollerTags    = document.getElementById('moreTagsScroller');
          const emptySection    = document.getElementById('moreSectionEmpty');
          const emptyTags       = document.getElementById('moreTagsEmpty');
          const sectionBlock    = document.getElementById('more');
          const tagsBlock       = document.getElementById('moreTags');

          if (!scrollerSection && !scrollerTags) return;

          function makeCard(p) {
            var card = document.createElement('a');

            var href = p.url || (p.slug ? p.slug + '/' : '#');
            card.href = toBase(href);
            card.className =
              'group min-w-[240px] max-w-[280px] snap-start rounded-2xl border border-black/10 bg-white shadow-soft overflow-hidden flex-shrink-0';

            // Work out cover URL
             // Work out cover URL
            var coverSrc = '';

            if (p.cover) {
              // posts.json might store cover as a string OR as { src: '...' }
              if (typeof p.cover === 'string') {
                coverSrc = p.cover;
              } else if (typeof p.cover === 'object' && typeof p.cover.src === 'string') {
                coverSrc = p.cover.src;
              }

              if (coverSrc) {
                // ✅ Force it into "/images/…", stripping any old domain/repo bits
                coverSrc = normalizeImagePath(coverSrc);
              }
            }

            if (coverSrc) {
              var wrap = document.createElement('div');
              wrap.className = 'aspect-[16/9] w-full overflow-hidden bg-ink-900/5';

              var img = document.createElement('img');
              img.src = coverSrc;
              img.alt = p.title || '';
              img.loading = 'lazy';
              img.className =
                'h-full w-full object-cover transition-transform duration-200 group-hover:scale-[1.03]';

              wrap.appendChild(img);
              card.appendChild(wrap);
            }

            var info = document.createElement('div');
            info.className = 'p-3';

            var sec = document.createElement('div');
            sec.className =
              'mb-1 text-[10px] tracking-[.14em] font-semibold uppercase text-accent';
            sec.textContent = p.section || '';
            info.appendChild(sec);

            var h3 = document.createElement('h3');
            h3.className = 'font-serif text-lg leading-snug text-ink-900 line-clamp-2';
            h3.textContent = p.title || '';
            info.appendChild(h3);

            var meta = document.createElement('div');
            meta.className = 'mt-1 text-xs text-ink-300';
            var dateStr = p.date
              ? new Date(p.date).toLocaleDateString(undefined, {
                  year: 'numeric',
                  month: 'short',
                  day: 'numeric'
                })
              : '';
            meta.textContent =
              (dateStr ? dateStr + ' • ' : '') + (p.readMinutes || 1) + ' min read';
            info.appendChild(meta);

            card.appendChild(info);
            return card;
          }

          function setupButtons(prevId, nextId, scroller) {
            const prevBtn = document.getElementById(prevId);
            const nextBtn = document.getElementById(nextId);
            if (!scroller) return;

            const amount = function () { return Math.max(scroller.clientWidth * 0.7, 260); };

            if (prevBtn) {
              prevBtn.onclick = function () {
                scroller.scrollBy({ left: -amount(), behavior: 'smooth' });
              };
            }
            if (nextBtn) {
              nextBtn.onclick = function () {
                scroller.scrollBy({ left: amount(), behavior: 'smooth' });
              };
            }
          }

          try {
            const res = await fetch('../posts.json', { cache: 'no-store' });
            if (!res.ok) throw new Error('posts.json not found');
            const list = await res.json();

            const currentSlug    = window.CURRENT && window.CURRENT.slug || '';
            const currentTags    = Array.isArray(window.CURRENT && window.CURRENT.tags) ? window.CURRENT.tags : [];
            const currentSection = window.CURRENT && window.CURRENT.section || '';

            const baseList = list.filter(function(p){ return p.slug !== currentSlug; });
            const usedSlugs = new Set();

            let sectionPicks = [];
            if (scrollerSection) {
              const sectionCandidates = baseList.filter(function (p) {
                return p.section === currentSection;
              });

              const scored = sectionCandidates
                .map(function (p) {
                  const tags = Array.isArray(p.tags) ? p.tags : [];
                  const overlap = tags.filter(function (t) {
                    return currentTags.includes(t);
                  }).length;
                  return Object.assign({}, p, { score: overlap });
                })
                .sort(function (a, b) {
                  return (b.score - a.score) || (new Date(b.date) - new Date(a.date));
                });

              let pool = scored;

              if (!pool.length) {
                if (sectionBlock) sectionBlock.classList.add('hidden');
              } else {
                sectionPicks = pool.slice(0, 6);
                scrollerSection.replaceChildren();
                sectionPicks.forEach(function (p) {
                  usedSlugs.add(p.slug);
                  scrollerSection.appendChild(makeCard(p));
                });
                setupButtons('morePrev', 'moreNext', scrollerSection);
              }
            }

            if (scrollerTags && currentTags.length) {
              const tagCandidates = baseList.filter(function(p){ return !usedSlugs.has(p.slug); });

              let tagPicks = [];

              if (tagCandidates.length) {
                const tagScored = tagCandidates
                  .map(function(p){
                    const tags = Array.isArray(p.tags) ? p.tags : [];
                    const overlap = tags.filter(function(t){ return currentTags.includes(t); }).length;
                    return Object.assign({}, p, { overlap: overlap });
                  })
                  .filter(function(p){ return p.overlap > 0; })
                  .sort(function(a, b){
                    return (b.overlap - a.overlap) || (new Date(b.date) - new Date(a.date));
                  });

                tagPicks = tagScored.slice(0, 6);
              }

              if (!tagPicks.length) {
                const fallback = baseList
                  .filter(function(p){ return !usedSlugs.has(p.slug); })
                  .sort(function(a, b){ return new Date(b.date) - new Date(a.date); });

                tagPicks = fallback.slice(0, 6);
              }

              if (!tagPicks.length) {
                if (tagsBlock) tagsBlock.classList.add('hidden');
                else if (emptyTags) emptyTags.classList.remove('hidden');
              } else {
                scrollerTags.replaceChildren();
                tagPicks.forEach(function(p){
                  usedSlugs.add(p.slug);
                  scrollerTags.appendChild(makeCard(p));
                });
                setupButtons('moreTagsPrev', 'moreTagsNext', scrollerTags);
              }
            } else if (tagsBlock && !currentTags.length) {
              tagsBlock.classList.add('hidden');
            }
          } catch (e) {
            console.warn('Related articles unavailable:', e);
            if (sectionBlock) sectionBlock.classList.add('hidden');
            if (tagsBlock)   tagsBlock.classList.add('hidden');
          }
        }

        if (document.readyState !== 'loading') loadRelated();
        else document.addEventListener('DOMContentLoaded', loadRelated);
      </script>

    </body>
    </html>